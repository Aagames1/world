<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>World</title>
  <style>
    body {
      background: black;
      color: #00ffcc;
      font-family: monospace;
      padding: 20px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
<pre id="game"></pre>

<script>
const paths = {
  "/": `
LOCATION: /

You are at the beginning.

AVAILABLE PATHS:
- /home
  `,

  "/home": `
LOCATION: /home

A quiet house. The lights flicker.

AVAILABLE PATHS:
- /home/room
- /home/cave
  `,

  "/home/room": `
LOCATION: /home/room

Your room is untouched.
Something feels off.

AVAILABLE PATHS:
- /home
  `,

  "/home/cave": `
LOCATION: /home/cave

A hidden entrance beneath the house.

AVAILABLE PATHS:
- /home
- /home/cave/tunnel
  `,

  "/home/cave/tunnel": `
LOCATION: /home/cave/tunnel

The tunnel descends deeper.
Scratches line the walls.

AVAILABLE PATHS:
- /home/cave
- /home/cave/chamber
  `,

  "/home/cave/chamber": `
LOCATION: /home/cave/chamber

A sealed stone chamber.
A terminal hums quietly.

AVAILABLE PATHS:
- /home/cave/tunnel
  `,

  "/forbidden": `
LOCATION: /forbidden

ACCESS LOGGED.
THIS PATH SHOULD NOT EXIST.
  `
};

function getPath() {
  return location.hash.replace("#", "") || "/";
}

function render() {
  const path = getPath();
  const game = document.getElementById("game");

  if (paths[path]) {
    game.textContent = paths[path];
  } else {
    game.textContent = `
ERROR 404

PATH NOT FOUND:
${path}

HINT:
Paths are case-sensitive.
Some paths are not listed.
    `;
  }
}

window.addEventListener("hashchange", render);

// force hash routing
if (!location.hash) {
  location.hash = "/";
}

render();
</script>
</body>
</html>
