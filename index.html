<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Puzzle World</title>

<style>
body {
  background: black;
  color: #16a34a;
  font-family: monospace;
  padding: 20px;
}
.panel {
  border: 1px solid #16a34a;
  padding: 16px;
  max-width: 900px;
}
pre {
  margin: 0;
  white-space: pre-wrap;
}
input, button {
  background: black;
  color: #16a34a;
  border: 1px solid #16a34a;
  font-family: monospace;
}
button { cursor: pointer; }
</style>
</head>
<body>

<div id="app"></div>

<script>
/* ---------- ROUTING ---------- */
if (!location.hash) location.hash = '#/home';
const getPath = () => location.hash.slice(1) || '/home';

/* ---------- WORLD DATA ---------- */
const pages = {

"/home": `
[ HOME ]
 _______
|       |
|  BED  |
|_______|

You wake up alone, unsure why you're here.

A path leads /outside

Navigate the world by editing the url. Try visiting /home/outside
`,

"/home/outside": `
[ OUTSIDE ]

You go outside, but there's no sign of life anywhere. 

To your left, a deserted /farm
To your right, a looming /cave
`,

"/home/outside/farm": `
[ FARM ]

You breath in the fresh air in the farm.

An open /field full of crops awaits.
You also notice a small /hut nearby.
`,

"/home/outside/farm/field": `
[ FIELD ]

You walk through the crops, still flowing through the winds. 
A broken /tractor sits in the middle.
`,

"/home/outside/farm/field/tractor": `
[ TRACTOR ]

You look around and investigate the tractor. The engine seems to be missing. Inside the tractor, there's a note.
"What did the crop say to the other crop?
Stop being CORNY!"

You're not sure what this could be used for.
`,

"/home/outside/farm/hut": `
[ HUT ]

There's nothing inside, except for a locked /vault
`,

"/home/outside/farm/hut/vault": `
[ VAULT ]

A 5-letter lock.
/vault/?????
`,

"/home/outside/farm/hut/vault/CORNY": `
[ VAULT OPEN ]

You unlocked the vault, inside is some medical gear, and a /FLASHLIGHT

This could be useful somewhere else.
`,

"/home/outside/cave": `
[ CAVE ]

You approach the cave, but it's too dark to see inside.

Might not be a good idea to come here for now.
`,

"/home/outside/cave/FLASHLIGHT": `
[ CAVE LIT ]

Using the flashlight, you venture inside the cave. You're not sure why, but it seems to be calling your name.

A narrow /path awaits.
`,

"/home/outside/cave/flashlight/path": `
[ NARROW PATH ]

A massive boulder blocks the way. Attempting to push it leads to no avail. 

Scratched into stone, you see a single word:

"inspect"
`,

"/home/outside/cave/flashlight/path/thewayforward": `
[ BEYOND ]

The boulder is gone.

A warning sign reads:

"YOU WERE WARNED"

You may /continue
`,

"/home/outside/cave/flashlight/path/thewayforward/continue": `
[ TERMINAL ]
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ACCESS   â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

A dusty terminal hums.

> LOGIN REQUIRED
`,

"/home/outside/cave/flashlight/path/thewayforward/continue/root": `
[ ROOT ACCESS ]

SYSTEM UNLOCKED.

A final door stands ahead. 

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸª    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`,

"/home/outside/cave/flashlight/path/thewayforward/continue/root/end": `
[ END ]

The door opens, the system shuts down.

You were never meant to escape â€”
only to understand.

Congratulations, for now...
`
};

/* ---------- RENDER ---------- */
function render() {
  const app = document.getElementById('app');
  app.innerHTML = '';

  const path = getPath();
  const panel = document.createElement('div');
  panel.className = 'panel';

  if (!pages[path]) {
    panel.innerHTML = `<pre>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ WRONG PATH             â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

"${path}" does not exist.
</pre>`;
    app.appendChild(panel);
    return;
  }

  panel.innerHTML = `<pre>${pages[path]}</pre>`;

  /* ---------- BOULDER PUZZLE ---------- */
  if (path.endsWith('/path')) {
    const boulder = document.createElement('pre');
    boulder.id = 'boulder';
    boulder.innerHTML = `
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

<span style="
  color:#0a3;
  font-size:11px;
  opacity:0.35;
  letter-spacing:2px;
">
/thewayforward
</span>
`;
    panel.appendChild(boulder);
  }

  /* ---------- TERMINAL ---------- */
  if (path.endsWith('/continue')) {
    const input = document.createElement('input');
    input.placeholder = 'username';

    const btn = document.createElement('button');
    btn.textContent = 'LOGIN';

    btn.onclick = () => {
      const v = input.value.toLowerCase();
      if (v.includes("'") || v.includes("or 1=1")) {
        location.hash += '/root';
      } else {
        alert('ACCESS DENIED');
      }
    };

    input.onkeydown = e => e.key === 'Enter' && btn.click();

    panel.appendChild(input);
    panel.appendChild(btn);
  }

  app.appendChild(panel);
}

window.addEventListener('hashchange', render);
render();
</script>

</body>
</html>
