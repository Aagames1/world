<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>World</title>

<style>
body {
  background: black;
  color: #00ffcc;
  font-family: monospace;
  padding: 20px;
  white-space: pre-wrap;
}

.error {
  color: #ff3333;
  border: 2px solid #ff3333;
  padding: 12px;
  font-weight: bold;
}
</style>
</head>

<body>
<pre id="game"></pre>

<script>
/* ======================
   WORLD DATA
====================== */

const locations = {

"/start": `
┏━━━━━━━━━━━━━━┓
┃   WORLD      ┃
┗━━━━━━━━━━━━━━┛

The page loads quietly.

Nothing explains why you're here.
There is only a path forward.

Somewhere ahead, there is a /home.
`,

"/home": `
┏━━━━━━━━━━━━━━┓
┃   HOME       ┃
┗━━━━━━━━━━━━━━┛

A silent house.
Still powered. Still warm.

Outside, the door leads /outside.
`,

"/home/outside": `
┏━━━━━━━━━━━━━━┓
┃  OUTSIDE     ┃
┗━━━━━━━━━━━━━━┛

Wind brushes past abandoned ground.

To the left, open land stretches toward a /farm.
To the right, stone descends into a /cave.
`,

"/home/outside/farm": `
┏━━━━━━━━━━━━━━┓
┃   FARM       ┃
┗━━━━━━━━━━━━━━┛

Rows of dead crops stand frozen in time.

A small /hut rests at the edge of the field.
`,

"/home/outside/farm/hut": `
┏━━━━━━━━━━━━━━┓
┃    HUT       ┃
┗━━━━━━━━━━━━━━┛

Dust. Rot. Silence.

Something solid lies beneath the floor.
It feels like a /vault.
`,

"/home/outside/farm/hut/vault": `
┏━━━━━━━━━━━━━━┓
┃   VAULT      ┃
┗━━━━━━━━━━━━━━┛

A metal vault blocks your way.

There is no keypad.
Just a place where confidence should be.
`,

"/home/outside/farm/hut/vault/CORNY": `
┏━━━━━━━━━━━━━━┓
┃ VAULT OPEN   ┃
┗━━━━━━━━━━━━━━┛

The vault opens.

Inside:
A flashlight.
A note that simply says:

"Dark paths lie."
`,

"/home/outside/cave": `
┏━━━━━━━━━━━━━━┓
┃   CAVE       ┃
┗━━━━━━━━━━━━━━┛

The cave swallows sound.

Light does not reach far in here.
`,

"/home/outside/cave/flashlight": `
┏━━━━━━━━━━━━━━┓
┃   CAVE       ┃
┗━━━━━━━━━━━━━━┛

A beam cuts through the darkness.

Stone walls reveal a narrow /path.
`,

"/home/outside/cave/flashlight/path": `
┏━━━━━━━━━━━━━━┓
┃   PATH       ┃
┗━━━━━━━━━━━━━━┛

The path tightens.

A massive boulder blocks the way forward.
Something feels… unfinished.
`,

"/home/outside/cave/flashlight/path/beyond": `
┏━━━━━━━━━━━━━━┓
┃  CLEARING    ┃
┗━━━━━━━━━━━━━━┛

The boulder is gone.

Beyond it stands a structure.
A dimly lit /terminal hums quietly.
`,

"/home/outside/cave/flashlight/path/beyond/terminal": `
┏━━━━━━━━━━━━━━┓
┃  TERMINAL    ┃
┗━━━━━━━━━━━━━━┛

Lines of code flicker across the screen.

One path leads deeper into the system:
A secured /mainframe.
`,

"/home/outside/cave/flashlight/path/beyond/terminal/mainframe": `
┏━━━━━━━━━━━━━━┓
┃ MAINFRAME    ┃
┗━━━━━━━━━━━━━━┛

ACCESS DENIED

Something about this page feels artificial.
Like it expects you to look closer.
`,

"/home/outside/cave/flashlight/path/beyond/terminal/mainframe/ECHO42": `
┏━━━━━━━━━━━━━━┓
┃ ACCESS OK    ┃
┗━━━━━━━━━━━━━━┛

The system yields.

Files unlock.
The world feels less solid now.
`
};

/* ======================
   ROUTER
====================== */

function getPath() {
  return location.hash.replace("#", "") || "/start";
}

function render() {
  const game = document.getElementById("game");
  const path = getPath();

  if (!locations[path]) {
    game.className = "error";
    game.textContent = `
┏━━━━━━━━━━━━━━┓
┃ WRONG PATH   ┃
┗━━━━━━━━━━━━━━┛

"${path}" does not exist.

The world rejects this direction.
`;
    return;
  }

  game.className = "";
  game.textContent = locations[path];
}

window.addEventListener("hashchange", render);

if (!location.hash) {
  location.hash = "#/start";
}

render();

/* ======================
   INSPECT-ELEMENT PUZZLE
====================== */

// Boulder removal via console / inspect
// Players must manually run:
// document.body.dataset.boulder="cleared"

Object.defineProperty(document.body.dataset, "boulder", {
  set(value) {
    if (value === "cleared") {
      locations["/home/outside/cave/flashlight/path"] +=
        "\n\nThe stone no longer blocks the way.\nThere is now a /beyond.";
    }
  }
});
</script>
</body>
</html>
