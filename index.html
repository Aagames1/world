<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>World</title>

<style>
body {
  background: black;
  color: #00ffcc;
  font-family: monospace;
  padding: 20px;
  white-space: pre-wrap;
}
.error {
  color: #ff3333;
  border: 2px solid #ff3333;
  padding: 12px;
  font-weight: bold;
}
</style>
</head>

<body>
<pre id="game"></pre>

<script>
/* ======================
   WORLD MAP
====================== */

const locations = {

/* ---- START ---- */
"/start": `
      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
      â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•
        â–ˆâ–ˆâ–ˆâ•”â•
       â–ˆâ–ˆâ–ˆâ•”â•
      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—

You wake to static and silence.

Somewhere ahead, there is a /home.
`,

/* ---- HOME ---- */
"/home": `
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   HOME    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      |   |
     [ ] [ ]

The house hums softly.

A door leads /outside.
`,

/* ---- OUTSIDE ---- */
"/home/outside": `
      /\        ğŸŒ™
     /  \__
    /       \

Open ground stretches out.

To one side, fields lead toward a /farm.
Beyond broken stone, darkness sinks into a /cave.
`,

/* ---- FARM SPLIT ---- */
"/home/outside/farm": `
   ||  ||  ||
   ||  ||  ||
  [==][==][==]

The farm is dead quiet.

A crooked /field stretches ahead.
A small /barn sits to the side.
`,

"/home/outside/farm/field": `
   ğŸŒ¾ ğŸŒ¾ ğŸŒ¾
   ğŸŒ¾ ğŸŒ¾ ğŸŒ¾

Crops rot where they stand.

Thereâ€™s something half-buried here.
A rusted /tractor.
`,

"/home/outside/farm/field/tractor": `
     _______
 ___/_____\\___
 |  _   _  |
 '-(_)---(_)-'

Beneath the seat:
A scrap of paper.

CORNY
`,

"/home/outside/farm/barn": `
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”
     â”‚  BARN â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”˜

Dust hangs thick in the air.

Behind loose boards, you find a /hut.
`,

"/home/outside/farm/barn/hut": `
   â”Œâ”€â”€â”€â”€â”€â”
   â”‚ ___ â”‚
   â”‚ |_| â”‚
   â””â”€â”€â”€â”€â”€â”˜

The hut feels heavier than it should.

The floor hides a sealed /vault.
`,

"/home/outside/farm/barn/hut/vault": `
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”
   â”‚ VAULT â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”˜

A blank steel door.

No keypad.
No lock.
Just expectation.
`,

"/home/outside/farm/barn/hut/vault/CORNY": `
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ OPENED   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

The door yields.

Inside:
A flashlight.

The darkness ahead no longer feels absolute.
`,

/* ---- CAVE ---- */
"/home/outside/cave": `
     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
    â–ˆâ–ˆ    â–ˆâ–ˆ
   â–ˆâ–ˆ      â–ˆâ–ˆ

The cave swallows all light.

The air is cold.
`,

"/home/outside/cave/flashlight": `
     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
    â–ˆâ–ˆ ğŸ”¦  â–ˆâ–ˆ
   â–ˆâ–ˆ      â–ˆâ–ˆ

A narrow beam cuts through.

Thereâ€™s a /path deeper inside.
`,

"/home/outside/cave/flashlight/path": `
     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
    â–ˆâ–ˆ  ğŸª¨ â–ˆâ–ˆ
   â–ˆâ–ˆ      â–ˆâ–ˆ

A massive boulder blocks the way.

It looksâ€¦ removable.
`,

/* ---- BEYOND (HACK REQUIRED) ---- */
"/home/outside/cave/flashlight/path/beyond": `
      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
     â–ˆâ–ˆ   â–ˆâ–ˆ
    â–ˆâ–ˆ     â–ˆâ–ˆ

The boulder is gone.

Beyond it stands a structure.
A humming /terminal waits.
`,

"/home/outside/cave/flashlight/path/beyond/terminal": `
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  TERMINAL   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Text scrolls endlessly.

A secured /mainframe lies behind it.
`,

"/home/outside/cave/flashlight/path/beyond/terminal/mainframe": `
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ MAINFRAME   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ACCESS DENIED

This page doesnâ€™t expect you to obey rules.
`,

"/home/outside/cave/flashlight/path/beyond/terminal/mainframe/ECHO42": `
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ACCESS OK   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

The system opens.

Reality feels thinner here.
`
};

/* ======================
   ROUTER
====================== */

function path() {
  return location.hash.replace("#", "") || "/start";
}

function render() {
  const p = path();
  const game = document.getElementById("game");

  if (!locations[p]) {
    game.className = "error";
    game.textContent = `
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ WRONG PATH   â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

"${p}" does not exist.

The world refuses this direction.
`;
    return;
  }

  game.className = "";
  game.textContent = locations[p];
}

window.addEventListener("hashchange", render);
if (!location.hash) location.hash = "#/start";
render();

/* ======================
   INSPECT ELEMENT PUZZLE
====================== */

// To clear the boulder, player must run:
// document.body.dataset.boulder = "cleared"

Object.defineProperty(document.body.dataset, "boulder", {
  set(v) {
    if (v === "cleared") {
      locations["/home/outside/cave/flashlight/path"] +=
        "\n\nThe stone has shifted.\nThere is now a /beyond.";
    }
  }
});
</script>

</body>
</html>
